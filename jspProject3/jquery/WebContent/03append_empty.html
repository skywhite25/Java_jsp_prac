<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!-- jQuery 라이브러리 등록 - CDN 방식 -->
<script type="text/javascript" 
src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">
var appendStr = "<div>이미지 첨부 : <input type='file' name='img'>"
 + "<button class='removeBtn' type='button'>제거</button></div>";
$(function(){
	var fileCnt = 1;
	// 이벤트 처리
	// 이미지 첨부 추가 버튼
	$("#appendImageBtn").click(function(){
		// alert("이미지 추가 클릭");
		if(fileCnt == 10){
			alert("파일첨부는 10개만 가능합니다.");
			return;
		}
		$("#imageDiv").append(appendStr);
		fileCnt++;
	});
	
	// 첨부 파일 한줄 제거
	// 이벤트를 넣는 과정에서 removeBtn이 처음(이벤트를 넣은 때)에 존재하지 않기 때문에 뒤에 나오는 removeBtn에는
	// 이벤트가 적용이되지 않는다. 그래서 on()를 사용한다.
	/*
	$(".removeBtn").click(function(){
		alert("첨부파일 제거");
	});
	*/
	$("#imageDiv").on("click", ".removeBtn", function(){
		// alert("첨부파일 제거");
		$(this).closest("div").remove();
		fileCnt--;
	});
});
</script>
</head>
<body>
<form action="#" method="post">
제목 : <input name="title"><br/>
<button type="button" id="appendImageBtn">이미지 추가</button>
<div id="imageDiv">
	<div>이미지 첨부 : <input type="file" name="img"></div>
</div>
</form>
</body>
</html>